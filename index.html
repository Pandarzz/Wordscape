<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf8">
        <title>Wordscape &#8226; Home</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Favicon source: https://iconmonstr.com/book-17-png/ -->
        <link rel="icon" href="./assets/images/favicon.png">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-rc.25/css/uikit.min.css" />
        <link rel="stylesheet" type="text/css" media="screen" href="./assets/css/reset.css" />
        <link rel="stylesheet" type="text/css" media="screen" href="./assets/css/style.css" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    </head>
    <body>
        <form id="input">
            <label for="term-input">Search term:</label>
            <input type="text" id="term-input">
            <input id="add-definition" type="submit"
            value="Search" class="search">
        </form>
        <div id="definition"></div>

        <!-- PRONUNCIATION div goes here -->
        <div>
            <h1>Pronunciation</h1>
            <!-- Div to show pronunciation stuff -->
            <div id="pronunciations">
                <!-- Part of speech -->
                <!-- Written pronunciation -->
                <!-- Audio controls -->
            </div>
        </div>
        
        <script type="text/javascript">
        
        function displaySearchTerm(){
            
            var word= $("#term-input").val().trim();
            console.log(word);
            var key= "?key=1f40dde8-50d6-4eb6-9168-6f465c469eb9";
            
            var queryUrl= "http://www.dictionaryapi.com/api/v3/references/collegiate/json/";
        
        $.ajax({
            url: queryUrl + word + key,
            method:"GET"
        }).then(function(response){
            var results= response;
        for (var i=0; i<results.length; i++) {
            console.log(response[i].shortdef);

            var termDiv = $("<div>");
            var term= response[i].shortdef[0];
            var p= $("<p>");
            p.text("defintion: "+ term);
            
            
            termDiv.append(p);
            $("#definition").append(termDiv);
        }

        });
        
        }

        $(".search").on("click", function(event){
            event.preventDefault();
            var word= $("#term-input").val().trim();
            displaySearchTerm();
            // displayPronunciation();
            console.log(word);
        });

        $(document).on("click", ".search", displaySearchTerm);
        </script>
        <script src="./assets/javascript/logic.js"></script>
    </body>
</html>